//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/nbransby/Documents/joda-time/src/main/java/org/joda/time/DateTimeComparator.java
//

#include "Chronology.h"
#include "ConverterManager.h"
#include "DateTimeComparator.h"
#include "DateTimeField.h"
#include "DateTimeFieldType.h"
#include "IOSClass.h"
#include "InstantConverter.h"
#include "J2ObjC_source.h"

@interface OrgJodaTimeDateTimeComparator () {
 @public
  /**
   @brief The lower limit of fields to compare, null if no limit
   */
  OrgJodaTimeDateTimeFieldType *iLowerLimit_;
  /**
   @brief The upper limit of fields to compare, null if no limit
   */
  OrgJodaTimeDateTimeFieldType *iUpperLimit_;
}

/**
 @brief Support serialization singletons.
 @return the resolved singleton instance
 */
- (id)readResolve;
@end

J2OBJC_FIELD_SETTER(OrgJodaTimeDateTimeComparator, iLowerLimit_, OrgJodaTimeDateTimeFieldType *)
J2OBJC_FIELD_SETTER(OrgJodaTimeDateTimeComparator, iUpperLimit_, OrgJodaTimeDateTimeFieldType *)

BOOL OrgJodaTimeDateTimeComparator_initialized = NO;

@implementation OrgJodaTimeDateTimeComparator

OrgJodaTimeDateTimeComparator * OrgJodaTimeDateTimeComparator_ALL_INSTANCE_;
OrgJodaTimeDateTimeComparator * OrgJodaTimeDateTimeComparator_DATE_INSTANCE_;
OrgJodaTimeDateTimeComparator * OrgJodaTimeDateTimeComparator_TIME_INSTANCE_;

+ (OrgJodaTimeDateTimeComparator *)getInstance {
  return OrgJodaTimeDateTimeComparator_getInstance();
}

+ (OrgJodaTimeDateTimeComparator *)getInstanceWithOrgJodaTimeDateTimeFieldType:(OrgJodaTimeDateTimeFieldType *)lowerLimit {
  return OrgJodaTimeDateTimeComparator_getInstanceWithOrgJodaTimeDateTimeFieldType_(lowerLimit);
}

+ (OrgJodaTimeDateTimeComparator *)getInstanceWithOrgJodaTimeDateTimeFieldType:(OrgJodaTimeDateTimeFieldType *)lowerLimit
                                              withOrgJodaTimeDateTimeFieldType:(OrgJodaTimeDateTimeFieldType *)upperLimit {
  return OrgJodaTimeDateTimeComparator_getInstanceWithOrgJodaTimeDateTimeFieldType_withOrgJodaTimeDateTimeFieldType_(lowerLimit, upperLimit);
}

+ (OrgJodaTimeDateTimeComparator *)getDateOnlyInstance {
  return OrgJodaTimeDateTimeComparator_getDateOnlyInstance();
}

+ (OrgJodaTimeDateTimeComparator *)getTimeOnlyInstance {
  return OrgJodaTimeDateTimeComparator_getTimeOnlyInstance();
}

- (instancetype)initWithOrgJodaTimeDateTimeFieldType:(OrgJodaTimeDateTimeFieldType *)lowerLimit
                    withOrgJodaTimeDateTimeFieldType:(OrgJodaTimeDateTimeFieldType *)upperLimit {
  if (self = [super init]) {
    OrgJodaTimeDateTimeComparator_set_iLowerLimit_(self, lowerLimit);
    OrgJodaTimeDateTimeComparator_set_iUpperLimit_(self, upperLimit);
  }
  return self;
}

- (OrgJodaTimeDateTimeFieldType *)getLowerLimit {
  return iLowerLimit_;
}

- (OrgJodaTimeDateTimeFieldType *)getUpperLimit {
  return iUpperLimit_;
}

- (jint)compareWithId:(id)lhsObj
               withId:(id)rhsObj {
  id<OrgJodaTimeConvertInstantConverter> conv = [((OrgJodaTimeConvertConverterManager *) nil_chk(OrgJodaTimeConvertConverterManager_getInstance())) getInstantConverterWithId:lhsObj];
  OrgJodaTimeChronology *lhsChrono = [((id<OrgJodaTimeConvertInstantConverter>) nil_chk(conv)) getChronologyWithId:lhsObj withOrgJodaTimeChronology:(OrgJodaTimeChronology *) check_class_cast(nil, [OrgJodaTimeChronology class])];
  jlong lhsMillis = [conv getInstantMillisWithId:lhsObj withOrgJodaTimeChronology:lhsChrono];
  conv = [((OrgJodaTimeConvertConverterManager *) nil_chk(OrgJodaTimeConvertConverterManager_getInstance())) getInstantConverterWithId:rhsObj];
  OrgJodaTimeChronology *rhsChrono = [((id<OrgJodaTimeConvertInstantConverter>) nil_chk(conv)) getChronologyWithId:rhsObj withOrgJodaTimeChronology:(OrgJodaTimeChronology *) check_class_cast(nil, [OrgJodaTimeChronology class])];
  jlong rhsMillis = [conv getInstantMillisWithId:rhsObj withOrgJodaTimeChronology:rhsChrono];
  if (iLowerLimit_ != nil) {
    lhsMillis = [((OrgJodaTimeDateTimeField *) nil_chk([iLowerLimit_ getFieldWithOrgJodaTimeChronology:lhsChrono])) roundFloorWithLong:lhsMillis];
    rhsMillis = [((OrgJodaTimeDateTimeField *) nil_chk([iLowerLimit_ getFieldWithOrgJodaTimeChronology:rhsChrono])) roundFloorWithLong:rhsMillis];
  }
  if (iUpperLimit_ != nil) {
    lhsMillis = [((OrgJodaTimeDateTimeField *) nil_chk([iUpperLimit_ getFieldWithOrgJodaTimeChronology:lhsChrono])) remainderWithLong:lhsMillis];
    rhsMillis = [((OrgJodaTimeDateTimeField *) nil_chk([iUpperLimit_ getFieldWithOrgJodaTimeChronology:rhsChrono])) remainderWithLong:rhsMillis];
  }
  if (lhsMillis < rhsMillis) {
    return -1;
  }
  else if (lhsMillis > rhsMillis) {
    return 1;
  }
  else {
    return 0;
  }
}

- (id)readResolve {
  return OrgJodaTimeDateTimeComparator_getInstanceWithOrgJodaTimeDateTimeFieldType_withOrgJodaTimeDateTimeFieldType_(iLowerLimit_, iUpperLimit_);
}

- (jboolean)isEqual:(id)object {
  if ([object isKindOfClass:[OrgJodaTimeDateTimeComparator class]]) {
    OrgJodaTimeDateTimeComparator *other = (OrgJodaTimeDateTimeComparator *) check_class_cast(object, [OrgJodaTimeDateTimeComparator class]);
    return (iLowerLimit_ == [((OrgJodaTimeDateTimeComparator *) nil_chk(other)) getLowerLimit] || (iLowerLimit_ != nil && [iLowerLimit_ isEqual:[other getLowerLimit]])) && (iUpperLimit_ == [other getUpperLimit] || (iUpperLimit_ != nil && [iUpperLimit_ isEqual:[other getUpperLimit]]));
  }
  return NO;
}

- (NSUInteger)hash {
  return (iLowerLimit_ == nil ? 0 : ((jint) [iLowerLimit_ hash])) + (123 * (iUpperLimit_ == nil ? 0 : ((jint) [iUpperLimit_ hash])));
}

- (NSString *)description {
  if (iLowerLimit_ == iUpperLimit_) {
    return JreStrcat("$$C", @"DateTimeComparator[", (iLowerLimit_ == nil ? @"" : [iLowerLimit_ getName]), ']');
  }
  else {
    return JreStrcat("$$C$C", @"DateTimeComparator[", (iLowerLimit_ == nil ? @"" : [iLowerLimit_ getName]), '-', (iUpperLimit_ == nil ? @"" : [iUpperLimit_ getName]), ']');
  }
}

- (void)dealloc {
  RELEASE_(iLowerLimit_);
  RELEASE_(iUpperLimit_);
  [super dealloc];
}

- (void)copyAllFieldsTo:(OrgJodaTimeDateTimeComparator *)other {
  [super copyAllFieldsTo:other];
  OrgJodaTimeDateTimeComparator_set_iLowerLimit_(other, iLowerLimit_);
  OrgJodaTimeDateTimeComparator_set_iUpperLimit_(other, iUpperLimit_);
}

+ (void)initialize {
  if (self == [OrgJodaTimeDateTimeComparator class]) {
    JreStrongAssignAndConsume(&OrgJodaTimeDateTimeComparator_ALL_INSTANCE_, nil, [[OrgJodaTimeDateTimeComparator alloc] initWithOrgJodaTimeDateTimeFieldType:nil withOrgJodaTimeDateTimeFieldType:nil]);
    JreStrongAssignAndConsume(&OrgJodaTimeDateTimeComparator_DATE_INSTANCE_, nil, [[OrgJodaTimeDateTimeComparator alloc] initWithOrgJodaTimeDateTimeFieldType:OrgJodaTimeDateTimeFieldType_dayOfYear() withOrgJodaTimeDateTimeFieldType:nil]);
    JreStrongAssignAndConsume(&OrgJodaTimeDateTimeComparator_TIME_INSTANCE_, nil, [[OrgJodaTimeDateTimeComparator alloc] initWithOrgJodaTimeDateTimeFieldType:nil withOrgJodaTimeDateTimeFieldType:OrgJodaTimeDateTimeFieldType_dayOfYear()]);
    J2OBJC_SET_INITIALIZED(OrgJodaTimeDateTimeComparator)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getInstance", NULL, "Lorg.joda.time.DateTimeComparator;", 0x9, NULL },
    { "getInstanceWithOrgJodaTimeDateTimeFieldType:", "getInstance", "Lorg.joda.time.DateTimeComparator;", 0x9, NULL },
    { "getInstanceWithOrgJodaTimeDateTimeFieldType:withOrgJodaTimeDateTimeFieldType:", "getInstance", "Lorg.joda.time.DateTimeComparator;", 0x9, NULL },
    { "getDateOnlyInstance", NULL, "Lorg.joda.time.DateTimeComparator;", 0x9, NULL },
    { "getTimeOnlyInstance", NULL, "Lorg.joda.time.DateTimeComparator;", 0x9, NULL },
    { "initWithOrgJodaTimeDateTimeFieldType:withOrgJodaTimeDateTimeFieldType:", "DateTimeComparator", NULL, 0x4, NULL },
    { "getLowerLimit", NULL, "Lorg.joda.time.DateTimeFieldType;", 0x1, NULL },
    { "getUpperLimit", NULL, "Lorg.joda.time.DateTimeFieldType;", 0x1, NULL },
    { "compareWithId:withId:", "compare", "I", 0x1, NULL },
    { "readResolve", NULL, "Ljava.lang.Object;", 0x2, NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL },
    { "hash", "hashCode", "I", 0x1, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID_", NULL, 0x1a, "J", NULL, .constantValue.asLong = OrgJodaTimeDateTimeComparator_serialVersionUID },
    { "ALL_INSTANCE_", NULL, 0x1a, "Lorg.joda.time.DateTimeComparator;", &OrgJodaTimeDateTimeComparator_ALL_INSTANCE_,  },
    { "DATE_INSTANCE_", NULL, 0x1a, "Lorg.joda.time.DateTimeComparator;", &OrgJodaTimeDateTimeComparator_DATE_INSTANCE_,  },
    { "TIME_INSTANCE_", NULL, 0x1a, "Lorg.joda.time.DateTimeComparator;", &OrgJodaTimeDateTimeComparator_TIME_INSTANCE_,  },
    { "iLowerLimit_", NULL, 0x12, "Lorg.joda.time.DateTimeFieldType;", NULL,  },
    { "iUpperLimit_", NULL, 0x12, "Lorg.joda.time.DateTimeFieldType;", NULL,  },
  };
  static const J2ObjcClassInfo _OrgJodaTimeDateTimeComparator = { 1, "DateTimeComparator", "org.joda.time", NULL, 0x1, 13, methods, 6, fields, 0, NULL};
  return &_OrgJodaTimeDateTimeComparator;
}

@end

OrgJodaTimeDateTimeComparator *OrgJodaTimeDateTimeComparator_getInstance() {
  OrgJodaTimeDateTimeComparator_init();
  return OrgJodaTimeDateTimeComparator_ALL_INSTANCE_;
}

OrgJodaTimeDateTimeComparator *OrgJodaTimeDateTimeComparator_getInstanceWithOrgJodaTimeDateTimeFieldType_(OrgJodaTimeDateTimeFieldType *lowerLimit) {
  OrgJodaTimeDateTimeComparator_init();
  return OrgJodaTimeDateTimeComparator_getInstanceWithOrgJodaTimeDateTimeFieldType_withOrgJodaTimeDateTimeFieldType_(lowerLimit, nil);
}

OrgJodaTimeDateTimeComparator *OrgJodaTimeDateTimeComparator_getInstanceWithOrgJodaTimeDateTimeFieldType_withOrgJodaTimeDateTimeFieldType_(OrgJodaTimeDateTimeFieldType *lowerLimit, OrgJodaTimeDateTimeFieldType *upperLimit) {
  OrgJodaTimeDateTimeComparator_init();
  if (lowerLimit == nil && upperLimit == nil) {
    return OrgJodaTimeDateTimeComparator_ALL_INSTANCE_;
  }
  if (lowerLimit == OrgJodaTimeDateTimeFieldType_dayOfYear() && upperLimit == nil) {
    return OrgJodaTimeDateTimeComparator_DATE_INSTANCE_;
  }
  if (lowerLimit == nil && upperLimit == OrgJodaTimeDateTimeFieldType_dayOfYear()) {
    return OrgJodaTimeDateTimeComparator_TIME_INSTANCE_;
  }
  return [[[OrgJodaTimeDateTimeComparator alloc] initWithOrgJodaTimeDateTimeFieldType:lowerLimit withOrgJodaTimeDateTimeFieldType:upperLimit] autorelease];
}

OrgJodaTimeDateTimeComparator *OrgJodaTimeDateTimeComparator_getDateOnlyInstance() {
  OrgJodaTimeDateTimeComparator_init();
  return OrgJodaTimeDateTimeComparator_DATE_INSTANCE_;
}

OrgJodaTimeDateTimeComparator *OrgJodaTimeDateTimeComparator_getTimeOnlyInstance() {
  OrgJodaTimeDateTimeComparator_init();
  return OrgJodaTimeDateTimeComparator_TIME_INSTANCE_;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeDateTimeComparator)
