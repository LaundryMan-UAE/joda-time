//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/nbransby/Documents/joda-time/src/main/java/org/joda/time/tz/ZoneInfoProvider.java
//

#ifndef _OrgJodaTimeTzZoneInfoProvider_H_
#define _OrgJodaTimeTzZoneInfoProvider_H_

@class JavaIoDataInputStream;
@class JavaIoFile;
@class JavaIoInputStream;
@class JavaLangClassLoader;
@class JavaLangException;
@class OrgJodaTimeDateTimeZone;
@protocol JavaUtilMap;
@protocol JavaUtilSet;

#import "JreEmulation.h"
#include "Provider.h"

/**
 @brief ZoneInfoProvider loads compiled data files as generated by ZoneInfoCompiler .
 <p> ZoneInfoProvider is thread-safe and publicly immutable.
 @author Brian S O'Neill
 @since 1.0
 */
@interface OrgJodaTimeTzZoneInfoProvider : NSObject < OrgJodaTimeTzProvider > {
 @public
  /**
   @brief The directory where the files are held.
   */
  JavaIoFile *iFileDir_;
  /**
   @brief The resource path.
   */
  NSString *iResourcePath_;
  /**
   @brief The class loader to use.
   */
  JavaLangClassLoader *iLoader_;
  /**
   @brief Maps ids to strings or SoftReferences to DateTimeZones.
   */
  id<JavaUtilMap> iZoneInfoMap_;
}

/**
 @brief ZoneInfoProvider searches the given directory for compiled data files.
 @throws IOException if directory or map file cannot be read
 */
- (instancetype)initWithJavaIoFile:(JavaIoFile *)fileDir;

/**
 @brief ZoneInfoProvider searches the given ClassLoader resource path for compiled data files.
 Resources are loaded from the ClassLoader that loaded this class.
 @throws IOException if directory or map file cannot be read
 */
- (instancetype)initWithNSString:(NSString *)resourcePath;

/**
 @brief ZoneInfoProvider searches the given ClassLoader resource path for compiled data files.
 @param loader ClassLoader to load compiled data files from. If null, use system ClassLoader.
 @throws IOException if directory or map file cannot be read
 */
- (instancetype)initWithNSString:(NSString *)resourcePath
         withJavaLangClassLoader:(JavaLangClassLoader *)loader;

/**
 @param favorSystemLoader when true, use the system class loader if loader null. When false, use the current class loader if loader is null.
 */
- (instancetype)initWithNSString:(NSString *)resourcePath
         withJavaLangClassLoader:(JavaLangClassLoader *)loader
                     withBoolean:(jboolean)favorSystemLoader;

/**
 @brief If an error is thrown while loading zone data, the exception is logged to system error and null is returned for this and all future requests.
 @param id the id to load
 @return the loaded zone
 */
- (OrgJodaTimeDateTimeZone *)getZoneWithNSString:(NSString *)id_;

/**
 @brief Gets a list of all the available zone ids.
 @return the zone ids
 */
- (id<JavaUtilSet>)getAvailableIDs;

/**
 @brief Called if an exception is thrown from getZone while loading zone data.
 @param ex the exception
 */
- (void)uncaughtExceptionWithJavaLangException:(JavaLangException *)ex;

/**
 @brief Opens a resource from file or classpath.
 @param name the name to open
 @return the input stream
 @throws IOException if an error occurs
 */
- (JavaIoInputStream *)openResourceWithNSString:(NSString *)name;

/**
 @brief Loads the time zone data for one id.
 @param id the id to load
 @return the zone
 */
- (OrgJodaTimeDateTimeZone *)loadZoneDataWithNSString:(NSString *)id_;

/**
 @brief Loads the zone info map.
 @param in the input stream
 @return the map
 */
+ (id<JavaUtilMap>)loadZoneInfoMapWithJavaIoInputStream:(JavaIoInputStream *)inArg;

/**
 @brief Reads the zone info map from file.
 @param din the input stream
 @param zimap gets filled with string id to string id mappings
 */
+ (void)readZoneInfoMapWithJavaIoDataInputStream:(JavaIoDataInputStream *)din
                                 withJavaUtilMap:(id<JavaUtilMap>)zimap;

- (void)dealloc;

- (void)copyAllFieldsTo:(OrgJodaTimeTzZoneInfoProvider *)other;

@end

__attribute__((always_inline)) inline void OrgJodaTimeTzZoneInfoProvider_init() {}

J2OBJC_FIELD_SETTER(OrgJodaTimeTzZoneInfoProvider, iFileDir_, JavaIoFile *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzZoneInfoProvider, iResourcePath_, NSString *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzZoneInfoProvider, iLoader_, JavaLangClassLoader *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzZoneInfoProvider, iZoneInfoMap_, id<JavaUtilMap>)

#endif // _OrgJodaTimeTzZoneInfoProvider_H_
